<div class="container">
    <h1 class="mat-h1">{{ getToolName() }}</h1>

    <h2 class="mat-h2">Couleur</h2>
    <app-sidebar-color-picker></app-sidebar-color-picker>
    <mat-divider></mat-divider>

    <div *ngIf="hasSetting(ToolSetting.Size)" class="size-container">
        <h2 class="mat-h2">Taille</h2>
        <form [formGroup]="sizeGroup" class="form">
            <mat-form-field class="form-field">
                <input matInput formControlName="size" [matTooltip]="getSizeErrorMessage()" matTooltipClass="error-tooltip" />
                <span matSuffix>px</span>
            </mat-form-field>
        </form>
        <mat-slider min="1" max="500" (input)="sizeGroup.controls.size.setValue($event.value)" [value]="sizeGroup.controls.size.value">
        </mat-slider>
        <mat-divider class="divider"></mat-divider>
    </div>
    <div *ngIf="hasSetting(ToolSetting.JunctionSettings)" class="junction-container">
        <h2 class="mat-h2">Taille jonction</h2>
        <form [formGroup]="junctionSizeGroup">
            <mat-form-field class="form-field">
                <input
                    matInput
                    formControlName="junctionSize"
                    [matTooltip]="getJunctionSizeErrorMessage()"
                    matTooltipClass="error-tooltip"
                />
                <span matSuffix>px</span>
            </mat-form-field>
        </form>

        <mat-slide-toggle
            [ngModel]="getSetting(ToolSetting.JunctionSettings).hasJunction"
            (ngModelChange)="
                setSetting(ToolSetting.JunctionSettings, {
                    hasJunction: $event,
                    junctionSize: getSetting(ToolSetting.JunctionSettings).junctionSize
                })
            "
            class="toggle"
        ></mat-slide-toggle>
        <mat-slider
            min="1"
            max="100"
            (input)="junctionSizeGroup.controls.junctionSize.setValue($event.value)"
            [value]="junctionSizeGroup.controls.junctionSize.value"
            [disabled]="!getSetting(ToolSetting.JunctionSettings).hasJunction"
        >
        </mat-slider>
        <mat-divider class="divider"></mat-divider>
    </div>
    <div *ngIf="hasSetting(ToolSetting.StrokeType)">
        <h2 class="mat-h2">Type de tracé</h2>
        <div class="toggle-buttons-container">
            <mat-button-toggle-group
                [value]="getSetting(ToolSetting.StrokeType)"
                (change)="setSetting(ToolSetting.StrokeType, $event.value)"
            >
                <mat-button-toggle [value]="StrokeType.FillWithBorder">Complet</mat-button-toggle>
                <mat-button-toggle [value]="StrokeType.FillOnly">Plein</mat-button-toggle>
                <mat-button-toggle [value]="StrokeType.BorderOnly">Contour</mat-button-toggle>
            </mat-button-toggle-group>
        </div>
        <mat-divider class="divider"></mat-divider>
    </div>
    <div *ngIf="hasSetting(ToolSetting.Texture)">
        <h2 class="mat-h2">Type de texture</h2>
        <mat-form-field class="dropdown">
            <mat-label>Sélection</mat-label>
            <mat-select [value]="getSetting(ToolSetting.Texture)" (selectionChange)="setSetting(ToolSetting.Texture, $event.value)">
                <mat-option [value]="Texture.Blur">Vent d'automne</mat-option>
                <mat-option [value]="Texture.Graffiti">Âme fragile</mat-option>
                <mat-option [value]="Texture.Shadow">Ombre du matin</mat-option>
                <mat-option [value]="Texture.Matte">Chlorophylle</mat-option>
                <mat-option [value]="Texture.Fabric">Innocence juvénile</mat-option>
            </mat-select>
        </mat-form-field>
        <mat-divider class="divider"></mat-divider>
    </div>
    <div *ngIf="hasSetting(ToolSetting.PolygonSideCount)">
        <h2 class="mat-h2">Nombre de faces</h2>
        <mat-slider
            min="3"
            max="12"
            (input)="polygonSideCountGroup.controls.polygonSideCount.setValue($event.value)"
            [value]="polygonSideCountGroup.controls.polygonSideCount.value"
        >
        </mat-slider>
        <mat-divider class="divider"></mat-divider>
    </div>
</div>
