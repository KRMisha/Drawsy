<div class="container">
    <h1 (click)="getSetting()">Couleur</h1>

    <div class="current-colors">
        <div
            class="primary-color"
            matRipple
            [style.background-color]="getPrimaryColor().toRgbString()"
            (click)="selectPrimaryColor()"
        ></div>
        <div class="swap-colors-button">
            <button mat-icon-button (click)="swapColors()">
                <mat-icon>swap_horiz</mat-icon>
            </button>
        </div>
        <div
            class="secondary-color"
            matRipple
            [style.background-color]="getSecondaryColor().toRgbString()"
            (click)="selectSecondaryColor()"
        ></div>
    </div>

    <div class="color-buttons">
        <button mat-raised-button *ngIf="isColorPickerDisplayEnabled" (click)="confirmColor()">
            Confirmer
        </button>
    </div>

    <div class="old-colors">
        <div
            class="circle"
            matRipple
            *ngFor="let color of colorService.getLastColors()"
            [style.background-color]="color.toRgbString()"
            (click)="oldColorClick($event, color)"
            (contextmenu)="oldColorClick($event, color)"
        ></div>
    </div>

    <app-color-picker *ngIf="isColorPickerDisplayEnabled" [(colorModel)]="color"> </app-color-picker>

    <h1>{{ getToolName() }}</h1>

    <div *ngIf="hasSetting(ToolSetting.Size)">
        <div class="option">
            <h2>Taille</h2>
            <input
                class="input-number"
                type="number"
                [ngModel]="getSetting(ToolSetting.Size)"
                (ngModelChange)="setSetting(ToolSetting.Size, $event)"
            />
        </div>
        <mat-slider min="1" max="100" (input)="setSetting(ToolSetting.Size, $event.value)" [value]="getSetting(ToolSetting.Size)">
        </mat-slider>
    </div>

    <div *ngIf="hasSetting(ToolSetting.HasJunction)">
        <div class="option">
            <h2>Taille jonction</h2>
            <input
                class="input-number"
                type="number"
                [ngModel]="getSetting(ToolSetting.HasJunction)[1]"
                (ngModelChange)="setSetting(ToolSetting.HasJunction, [getSetting(ToolSetting.HasJunction)[0], $event])"
                [disabled]="!getSetting(ToolSetting.HasJunction)[0]"
            />
            <mat-checkbox
                [ngModel]="getSetting(ToolSetting.HasJunction)[0]"
                (ngModelChange)="setSetting(ToolSetting.HasJunction, [$event, getSetting(ToolSetting.HasJunction)[1]])"
            >
            </mat-checkbox>
        </div>
        <mat-slider
            min="1"
            max="100"
            (input)="setSetting(ToolSetting.HasJunction, [getSetting(ToolSetting.HasJunction)[0], $event.value])"
            [value]="getSetting(ToolSetting.HasJunction)[1]"
            [disabled]="!getSetting(ToolSetting.HasJunction)[0]"
        >
        </mat-slider>
    </div>

    <div *ngIf="hasSetting(ToolSetting.StrokeType)">
        <div class="dropdown-style">
            <h2>Type de tracé</h2>
            <mat-form-field class="select">
                <mat-label>Type de tracé</mat-label>
                <mat-select
                    [value]="getSetting(ToolSetting.StrokeType)"
                    (selectionChange)="setSetting(ToolSetting.StrokeType, $event.value)"
                >
                    <mat-option [value]="StrokeTypes.FillWithBorder">Plein avec contour</mat-option>
                    <mat-option [value]="StrokeTypes.FillOnly">Plein</mat-option>
                    <mat-option [value]="StrokeTypes.BorderOnly">Contour</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    </div>

    <div *ngIf="hasSetting(ToolSetting.Texture)">
        <div class="dropdown-style">
            <h2>Type de texture</h2>
            <mat-form-field class="select">
                <mat-label>Type de texture</mat-label>
                <mat-select [value]="getSetting(ToolSetting.Texture)" (selectionChange)="setSetting(ToolSetting.Texture, $event.value)">
                    <mat-option [value]="Textures.Texture1">Texture 1</mat-option>
                    <mat-option [value]="Textures.Texture2">Texture 2</mat-option>
                    <mat-option [value]="Textures.Texture3">Texture 3</mat-option>
                    <mat-option [value]="Textures.Texture4">Texture 4</mat-option>
                    <mat-option [value]="Textures.Texture5">Texture 5</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    </div>
</div>
